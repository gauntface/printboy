(()=>{var d="production",i=d=="development"?"http://localhost:1314":"";async function f(){let n=document.querySelector(".js-img-settings tbody");if(!n)return;let l=await fetch(`${i}/api/labels/images`),p=await l.json();for(let a of p){let e=document.createElement("tr"),c=document.createElement("td"),r=document.createElement("td"),s=document.createElement("td");e.append(c),e.append(r),e.append(s);let m=document.createElement("img");m.src=a.base64,c.appendChild(m),r.textContent=a.filename;let t=document.createElement("button");t.classList.add("drac-btn","drac-bg-purple-cyan"),t.textContent="Delete",t.addEventListener("click",async o=>{o.preventDefault(),o.target.disabled=!0;try{await fetch(`${i}/api/labels/images`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:a.filename})}),n.removeChild(e)}catch(u){console.error("Failed to delete image: ",u)}finally{o.target.disabled=!1}}),s.appendChild(t),n.appendChild(e)}}f();})();
