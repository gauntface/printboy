(()=>{var l="production",d=l=="development"?"http://localhost:1314":"";async function f(){let o=document.querySelector(".js-address-settings tbody");if(!o)return;let p=await fetch(`${d}/api/labels/addresses`),m=await p.json();for(let c of m){let t=document.createElement("tr"),s=document.createElement("td"),i=document.createElement("td");t.append(s),t.append(i);let r=c.text.split(`
`);for(let e=0;e<r.length;e++){let a=document.createElement("span");a.textContent=r[e],s.append(a),e+1<r.length&&s.append(document.createElement("br"))}let n=document.createElement("button");n.classList.add("drac-btn","drac-bg-purple-cyan"),n.textContent="Delete",n.addEventListener("click",async e=>{e.preventDefault(),e.target.disabled=!0;try{await fetch(`${d}/api/labels/addresses`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:c.filename})}),o.removeChild(t)}catch(a){console.error("Failed to delete image: ",a)}finally{e.target.disabled=!1}}),i.appendChild(n),o.appendChild(t)}}f();})();
